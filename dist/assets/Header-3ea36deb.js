import{r as i,A as q,u as j,b as s,j as t,L as N,d as O}from"./index-5280db37.js";import"./bcrypt-6fade0b1.js";import{L as W,A as K,p as x}from"./Alert-6fb9f75f.js";import{r as G,i as U,a as H}from"./jsx-runtime_commonjs-proxy-9ac0f94c.js";const $="_full_t7urm_1",Y="_errmssg_t7urm_1",z="_inside_t7urm_35",J="_title1_t7urm_55",Q="_FED_t7urm_89",V="_whitebox_t7urm_107",X="_hellopart_t7urm_135",Z="_welc_t7urm_149",ee="_det_t7urm_173",te="_googlepart_t7urm_197",oe="_icon_t7urm_231",ae="_log_t7urm_243",re="_orMDIv_t7urm_263",se="_orLine_t7urm_277",le="_or_t7urm_263",ne="_signup_t7urm_309",ie="_spann_t7urm_329",ce="_logtwo_t7urm_369",de="_input_t7urm_393",ue="_formTag_t7urm_411",me="_user_t7urm_421",_e="_pass_t7urm_423",ge="_username_t7urm_497",he="_password_t7urm_499",pe="_iconSee_t7urm_523",ve="_forgotPassword_t7urm_553",Ce="_forgotPasswordPTag_t7urm_569",u={full:$,errmssg:Y,inside:z,title1:J,FED:Q,whitebox:V,hellopart:X,welc:Z,det:ee,googlepart:te,icon:oe,log:ae,orMDIv:re,orLine:se,or:le,signup:ne,spann:ie,"login-btn":"_login-btn_t7urm_359",logtwo:ce,input:de,formTag:ue,user:me,pass:_e,username:ge,password:he,iconSee:pe,"form-control":"_form-control_t7urm_539",forgotPassword:ve,forgotPasswordPTag:Ce,"my-text-class":"_my-text-class_t7urm_581","my-title-class":"_my-title-class_t7urm_589"},Ye="/assets/Google-f21d0e30.svg",fe="_mDiv_1rs95_1",be="_mDivCon_1rs95_37",ye="_ArrowBackIcon_1rs95_59",De="_CreateProfile_1rs95_75",we="_Please_1rs95_77",Fe="_WhiteBackGround_1rs95_109",Ie="_FormTag_1rs95_135",Ne="_inpTag_1rs95_155",xe="_rowInpDiv_1rs95_197",Te="_widthIngTagDiv1_1rs95_1",Pe="_year_1rs95_223",ke="_mobileno_container_1rs95_249",Le="_mobileno91_1rs95_265",Be="_CollegeInpmDIv_1rs95_307",Se="_DropDownmDiv_1rs95_317",Ee="_btn_1rs95_351",Ae="_tandCDiv_1rs95_375",Me="_acceptLabel_1rs95_387",o={mDiv:fe,mDivCon:be,ArrowBackIcon:ye,CreateProfile:De,Please:we,WhiteBackGround:Fe,FormTag:Ie,inpTag:Ne,rowInpDiv:xe,widthIngTagDiv1:Te,year:Pe,mobileno_container:ke,mobileno91:Le,CollegeInpmDIv:Be,DropDownmDiv:Se,btn:Ee,tandCDiv:Ae,acceptLabel:Me};var f={},Re=U;Object.defineProperty(f,"__esModule",{value:!0});var T=f.default=void 0,qe=Re(G()),je=H,Oe=(0,qe.default)((0,je.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");T=f.default=Oe;function We(r){const[v,g]=i.useState(!1),[b,m]=i.useState(!1),[y,P]=i.useState(""),[c,h]=i.useState({email:"",Password:"",name:"",RollNumber:"",School:"",College:"",MobileNo:"",img:"",tandC:!1}),[k,d]=i.useState({mainColor:"",secondaryColor:"",symbol:"",title:"",text:"",val:!1});let D=i.useRef();const p=i.useContext(q),w=j(),_=e=>{const l=e.target.name,n=e.target.value;n===""?(e.target.style.borderBottom="1px solid  #FF0000",e.target.style.outline="none"):e.target.style.borderBottom="1px solid  black",l==="MobileNo"&&(n.length>12||n.length<10?(e.target.style.borderBottom="1px solid  #FF0000",e.target.style.outline="none"):e.target.style.borderBottom="1px solid  black"),l=="College"&&("Kalinga Institute of Industrial Technology".toLowerCase().includes(n)?m(!0):m(!1),n===""?(m(!1),e.target.style.borderBottom="1px solid  #FF0000",e.target.style.outline="none"):e.target.style.borderBottom="1px solid  black"),h(l==="tandC"?{...c,tandC:e.target.checked}:{...c,[l]:n})},L=e=>{console.log(e.target.value),P(e.target.value)},B=[{value:"1st",text:"1st year"},{value:"2nd",text:"2nd year"},{value:"3rd",text:"3rd year"},{value:"4th",text:"4th year"},{value:"5th",text:"5th year"}];i.useEffect(()=>{b&&document.addEventListener("mousedown",S)});const S=e=>{try{D.current.contains(e.target)||m(!1)}catch(l){console.log(l)}},E=()=>{"Kalinga Institute of Industrial Technology".toLowerCase().includes(c.College)&&(console.log(` "Kalinga Institute of Industrial Technology"
      .toLowerCase()
      .includes(showUser.College)`),console.log("Kalinga Institute of Industrial Technology".toLowerCase().includes(c.College)),m(!0))},A=async e=>{e.preventDefault();const{RollNumber:l,School:n,College:F,MobileNo:C,tandC:I}=c;if(r.data.name!==""&&r.data.id!==""&&r.data.email!==""&&r.data.picture!==""&&l!==""&&n!==""&&F!==""&&C.length===10&&I){g(!0),console.log("-------------------------");const M=r.data.id,R={name:r.data.name,email:r.data.email,password:M,img:r.data.picture,RollNumber:l,School:n,College:F,MobileNo:C,selected:y};try{const a=await O.post("/auth/googleregister",R);if(console.log("response.data.status",a.data.status),a.data.status===!0){p.login(a.data.user.name,a.data.user.email,a.data.user.img,a.data.user.RollNumber,a.data.user.School,a.data.user.College,a.data.user.MobileNo,a.data.user.selected,a.data.user.regForm,Number(a.data.user.access),a.data.token,108e5),r.set(!1),p.target==""?w("/MyProfile"):(w(`/${p.target}`),p.settarget(null));return}else g(!1),d({mainColor:"#FDEDED",secondaryColor:"#F16360",symbol:"error",title:"Error",text:"An Unexpected Error Occured",val:!0})}catch(a){console.log(a),g(!1),a.response.data.code===1&&d({mainColor:"#FFC0CB",secondaryColor:"#FF69B4",symbol:"pets",title:"Check it out",text:"User already exists",val:!0}),a.response.data.code===2&&d({mainColor:"#FFF4E5",secondaryColor:"#FFA117",symbol:"warning",title:"Warning",text:"Invalid email format",val:!0})}}else g(!1),C.length!==10?d({mainColor:"#FFF4E5",secondaryColor:"#FFA117",symbol:"warning",title:"Warning",text:"Invalid mobile number",val:!0}):d({mainColor:"#FFC0CB",secondaryColor:"#FF69B4",symbol:"pets",title:"Check it out",text:"Please Fill All The Details",val:!0}),I!=!0&&d({mainColor:"#FFF4E5",secondaryColor:"#FFA117",symbol:"warning",title:"Warning",text:"Please accept the terms and condition",val:!0})};return s("div",{className:o.mDiv,id:Object.keys(r.data).length>0?"showCreate":"hideCreate",children:[s("div",{className:o.mDivCon,children:[t(T,{className:o.ArrowBackIcon,onClick:()=>r.set(!1)}),s("div",{children:[t("p",{className:o.CreateProfile,children:"Create Profile"}),t("p",{className:o.Please,children:"Please enter Your Details"})]}),t("div",{className:o.WhiteBackGround,children:s("form",{className:o.FormTag,children:[s("div",{ref:D,className:o.CollegeInpmDIv,children:[t("input",{type:"text",id:"college",name:"College",placeholder:"College",className:o.inpTag,value:c.College,onChange:_,onFocus:()=>{E()},spellcheck:"true",autocomplete:"off",required:!0}),t("div",{className:o.DropDownmDiv,id:b?"showDropMenuClg":"hideDropMenuClg",onClick:()=>{h({...c,College:"Kalinga Institute of Industrial Technology"}),m(!1)},children:"Kalinga Institute of Industrial Technology"})]}),s("div",{className:o.rowInpDiv,children:[t("input",{type:"number",id:o.widthIngTagDiv1,className:o.inpTag,name:"RollNumber",placeholder:"Roll Number",onChange:_}),t("input",{type:"text",id:"school",className:o.inpTag,name:"School",placeholder:"School",onChange:_})]}),s("div",{className:o.mobileno_container,children:[t("p",{className:o.mobileno91,children:"+91"}),t("input",{type:"number",id:"number",name:"MobileNo",placeholder:"Mobile Number",className:o.inpTag,onChange:_,required:!0})]}),s("select",{value:y,onChange:L,className:o.year,children:[t("option",{hidden:!0,children:"Year"}),B.map(e=>t("option",{value:e.value,children:e.text},e.value))]}),s("div",{className:o.tandCDiv,children:[t("input",{type:"checkbox",name:"tandC",id:"tandC",checked:h.tandC,onChange:_,required:!0}),s("label",{htmlFor:"tandC",className:o.acceptLabel,children:["I agree to FED's"," ",t(N,{to:"/T&C",className:"LinkStyle",target:"_blank",children:"Terms and Conditions"})," ","and"," ",t(N,{to:"/PrivacyPolicies",className:"LinkStyle",target:"_blank",children:"Privacy Policy"}),"."]})]}),t("button",{type:"submit",className:o.btn,onClick:A,children:v?t(W,{}):"Create Profile"})]})})]}),t(K,{variant:k,val:d})]})}We.propTypes={};function ze(){return s("div",{className:u.orMDIv,children:[t("div",{className:u.orLine}),t("p",{className:u.or,children:"Or"}),t("div",{className:u.orLine})]})}const Ke=({title:r,des:v})=>s("div",{className:u.hellopart,children:[t("p",{className:u.welc,children:r}),t("p",{className:u.det,children:v})]});Ke.propTypes={title:x.string.isRequired,des:x.string.isRequired};export{We as C,Ke as H,u as L,ze as O,Ye as g};
