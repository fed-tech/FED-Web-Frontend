import{b as s,j as e,r as o,A as p,d as C,F as k,u as q}from"./index-b820c58a.js";import{r as B,i as E,a as P}from"./jsx-runtime_commonjs-proxy-1590ad65.js";const G="_Page_main_utllj_1",Y="_Page_utllj_1",W="_pageLeft_utllj_33",J="_dashboard_utllj_51",K="_dashboardTop_utllj_75",Q="_DASHBOARD_utllj_91",X="_profilePic_utllj_111",Z="_name_utllj_135",ee="_designation_utllj_137",te="_gotoPro_utllj_183",ae="_dashboardBottom_utllj_201",se="_dashboardBottom_options_utllj_229",ne="_dashboardBottom_icons_utllj_263",le="_hello_utllj_271",oe="_pageRight_utllj_287",ie="_proHeading_utllj_495",re="_dets1_utllj_505",ce="_vals1_utllj_507",de="_Position_utllj_591",me="_headInnerText_utllj_743",ue="_vals_utllj_507",u={Page_main:G,Page:Y,pageLeft:W,dashboard:J,dashboardTop:K,DASHBOARD:Q,profilePic:X,name:Z,designation:ee,gotoPro:te,dashboardBottom:ae,dashboardBottom_options:se,dashboardBottom_icons:ne,hello:le,pageRight:oe,proHeading:ie,dets1:re,vals1:ce,Position:de,headInnerText:me,vals:ue};var F={},he=E;Object.defineProperty(F,"__esModule",{value:!0});var R=F.default=void 0,ve=he(B()),fe=P,_e=(0,ve.default)((0,fe.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"}),"Groups");R=F.default=_e;var $={},pe=E;Object.defineProperty($,"__esModule",{value:!0});var z=$.default=void 0,ge=pe(B()),be=P,Ne=(0,ge.default)((0,be.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");z=$.default=Ne;var I={},Ce=E;Object.defineProperty(I,"__esModule",{value:!0});var V=I.default=void 0,xe=Ce(B()),ye=P,we=(0,xe.default)((0,ye.jsx)("path",{d:"M14 10H3v2h11v-2zm0-4H3v2h11V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM3 16h7v-2H3v2z"}),"PlaylistAdd");V=I.default=we;var H={},Me=E;Object.defineProperty(H,"__esModule",{value:!0});var L=H.default=void 0,De=Me(B()),Ae=P,Se=(0,De.default)((0,Ae.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"InsertInvitation");L=H.default=Se;function Be({info:t,setShow:a,setCardNo:r}){return s("div",{className:"eventcards",onClick:()=>{a(!0),r(t)},children:[e("div",{className:"event_img",children:e("img",{src:"https://images.unsplash.com/photo-1531058020387-3be344556be6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",alt:""})}),s("div",{className:"event_content",children:[e("h2",{children:t.title}),s("div",{className:"date_and_month",children:[e("p",{children:t.date}),e("p",{children:t.month})]})]})]})}const Ee="_fullPage_e1wl2_5",Pe="_details_e1wl2_19",je="_gradient_e1wl2_29",ke="_btns_e1wl2_51",Fe="_eventDesc_e1wl2_59",$e="_eventName_e1wl2_61",Ie="_moreDetails_e1wl2_63",He="_forms_e1wl2_65",Te="_date_e1wl2_147",Re="_regType_e1wl2_149",ze="_form_e1wl2_65",Ve="_edit_e1wl2_211",c={fullPage:Ee,details:Pe,gradient:je,btns:ke,eventDesc:Fe,eventName:$e,moreDetails:Ie,forms:He,date:Te,regType:Re,form:ze,edit:Ve,delete:"_delete_e1wl2_211"};function Le({cardNo:t,setShow:a}){const r=o.useContext(p),l=async()=>{const n=t._id;try{const d=await C.delete(`/event/deleteevent/${n}`,{headers:{Authorization:r.token}});console.log(d),d.status===200&&(console.log("Event deleted"),a(!1))}catch(d){console.log(d)}};return o.useEffect(()=>{console.log(t)},[]),e("div",{className:c.fullPage,children:s("div",{className:c.details,children:[s("div",{className:c.eventName,children:[e("img",{src:t.image,alt:""}),e("h1",{children:t.title})]}),s("div",{className:c.eventDesc,children:["About the Event : ",t.description]}),s("div",{className:c.moreDetails,children:[s("div",{className:c.date,children:["Event Date : ",t.date," ",t.month]}),s("div",{className:c.regType,children:["Registration : ",t.registration]})]}),s("div",{className:c.forms,children:[e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"}),e("div",{className:c.form,children:"Form 1"})]}),s("div",{className:c.btns,children:[e("button",{className:c.edit,children:"Edit"}),e("button",{className:c.delete,onClick:l,children:"Delete"})]})]})})}function Oe({showEvent:t,setShow:a,setCardNo:r,cardNo:l}){const[n,d]=o.useState([]),h=async()=>{const m=await C.get("http://localhost:5000/event/getevent");m.status===202?d(m.data.event):console.log("Did not recieve events")};return o.useEffect(()=>{h()},[t]),e("div",{className:"viewEventss",children:t?e("div",{className:"viewEventDets",children:e(Le,{cardNo:l,setShow:a})}):e("div",{className:"viewevents",children:n.map((m,i)=>e(Be,{info:m,setShow:a,setCardNo:r,cardNo:l},i))})})}function Ue({setViewEvents:t}){const[a,r]=o.useState({title:"",about:"",poster:"",date:"",month:"",reg_type:""}),l=o.useContext(p),n=h=>{const m=h.target.name,i=h.target.value;r({...a,[m]:i})};console.log(a);const d=async h=>{h.preventDefault();const m={title:a.title,description:a.about,image:a.poster,date:a.date,month:a.month,registration:a.reg_type},i=await C.post("http://localhost:5000/event/addevent",m,{headers:{Authorization:l.token}});console.log(i),i.status===202?(console.log(i),console.log("Added event"),t(!0)):console.log("Not added")};return e("div",{className:"addevent",children:s("form",{action:"",children:[e("input",{type:"text",placeholder:"Event Title",name:"title",onChange:n}),e("input",{type:"text",placeholder:"About the Event",name:"about",onChange:n}),s("div",{className:"event_poster",children:[e("input",{type:"text",placeholder:"Poster Link",name:"poster",onChange:n}),e("a",{href:a.poster,target:"blank",className:"preview_btn",children:"Preview"})]}),s("div",{className:"addevent_date",children:[e("input",{type:"text",placeholder:"Event Date",name:"date",onChange:n}),e("input",{type:"text",placeholder:"Event Month",name:"month",onChange:n})]}),e("input",{type:"text",placeholder:"Registration Type",name:"reg_type",onChange:n}),e("div",{className:"inp_btn",children:e("input",{type:"submit",value:"Submit",className:"addevent_submit_btn",onClick:d})})]})})}function qe(){const[t,a]=o.useState(!0),[r,l]=o.useState(!1),[n,d]=o.useState("");return o.useContext(p),s("div",{className:"page_right_info",children:[s("div",{className:"info_headers",children:[e("p",{onClick:i=>{i.target.style.color="#f45725",a(!0),l(!1)},style:{color:t?"#f45725":"white"},children:"View Events"}),e("p",{onClick:()=>{a(!1)},style:{color:t?"white":"#f45725"},children:"Add Events"})]}),s("div",{className:"info_content",children:[t&&e(Oe,{showEvent:r,setShow:l,setCardNo:d,cardNo:n}),!t&&e(Ue,{setViewEvents:a})]})]})}function Ge({showUser:t,setUser:a,selected:r,setSelected:l}){const n=o.useContext(p),d=[{value:"1st",text:"1st year"},{value:"2nd",text:"2nd year"},{value:"3rd",text:"3rd year"},{value:"4th",text:"4th year"},{value:"5th",text:"5th year"}],h=i=>{console.log(i.target.value),l(i.target.value)},m=i=>{const f=i.target.name,_=i.target.value;_===""?(i.target.style.borderBottom="2px solid  #FF0000",i.target.style.outline="none"):i.target.style.borderBottom="2px solid  black",f==="MobileNo"&&(_.length>12||_.length<10?(i.target.style.borderBottom="2px solid  #FF0000",i.target.style.outline="none"):i.target.style.borderBottom="2px solid  #767676"),a({...t,[f]:_}),console.log(t)};return s(k,{children:[e("input",{type:"text",id:"name",name:"name",value:n.user.name,placeholder:"Name",onChange:m}),e("input",{type:"text",id:"rollNum",name:"RollNumber",value:n.user.rollNo,placeholder:"Roll Number",onChange:m}),e("input",{type:"text",id:"school",name:"School",value:n.user.school,placeholder:"School",onChange:m}),e("input",{type:"text",id:"college",name:"College",value:n.user.college,placeholder:"College",onChange:m}),e("input",{type:"number",id:"number",name:"MobileNo",value:n.user.mobileNo,placeholder:"Mobile Number",onChange:m}),e("select",{value:r,onChange:h,className:"year",placeholder:"Year",id:"year",children:d.map(i=>e("option",{value:i.value,children:i.text},i.value))})]})}function Ye({setShowUpdateModal:t}){const a=o.useContext(p),[r,l]=o.useState(!1),[n,d]=o.useState("Invalid"),[h,m]=o.useState({email:a.user.email,name:"",RollNumber:"",School:"",College:"",MobileNo:""}),[i,f]=o.useState(a.user.selected);return e("div",{className:"updateModal-overlay",children:s("div",{className:"updateModal",children:[e("h2",{children:"Update Profile"}),s("form",{className:"update_form",children:[e(Ge,{showUser:h,setUser:m,selected:i,setSelected:f}),e("button",{type:"submit",className:"btn",onClick:async x=>{x.preventDefault();const{email:y,name:g,RollNumber:M,School:D,College:A,MobileNo:b}=h;if(g!==""&&M!==""&&D!==""&&A!==""&&b!==""&&b.length<=12&&b.length>=10&&i!=="Year"){const U={name:g,email:y,RollNumber:M,School:D,College:A,MobileNo:b,selected:i};try{C.post("http://localhost:5000/auth/updateProfile",U).then(w=>{if(w.status===200){const N=w.data.response;a.update(N.name,N.email,N.img,N.RollNumber,N.School,N.College,N.MobileNo,N.selected,Number(N.access)),window.location.reload();return}})}catch(w){l(!0),w.response.data.code===1&&d("User already exists"),w.response.data.code===2&&d("Invalid email format"),console.log(w)}}else b===""||b.length<=12&&b.length>=10?(l(!0),d("Please fill all the fields")):(l(!0),d("Invalid mobile number"))},children:"Update Profile"}),e("button",{type:"button",className:"btn",onClick:()=>t(!1),children:"Close"})]})]})})}function We(){const t=o.useContext(p);return s("div",{id:"profile",children:[e("div",{className:"proHeading",children:e("p",{className:"headInnerText",children:e("p",{children:"Profile Details"})})}),e("div",{className:"details",children:e("table",{className:"profileTable",children:s("tbody",{children:[s("tr",{children:[e("td",{className:"dets1",children:"Full Name"}),e("td",{className:"vals1",children:t.user.name})]}),s("tr",{children:[e("td",{className:"dets1",children:"Roll Number"}),e("td",{className:"vals1",children:t.user.rollNo})]}),s("tr",{children:[e("td",{className:"dets1",children:"Email ID"}),e("td",{className:"vals1",children:t.user.email})]}),s("tr",{children:[e("td",{className:"dets1",children:"Year"}),e("td",{className:"vals1",children:t.user.selected})]}),s("tr",{children:[e("td",{className:"dets1",children:"School"}),e("td",{className:"vals1",children:t.user.school})]}),s("tr",{children:[e("td",{className:"dets1",children:"College"}),e("td",{className:"vals1",children:t.user.college})]}),s("tr",{children:[e("td",{className:"dets1",children:"Mobile No"}),e("td",{className:"vals1",children:t.user.mobileNo})]})]})})})]})}const Je="_head_r41b4_5",Ke="_formtitle_r41b4_27",Qe="_formaddfield_r41b4_45",Xe="_formDiv_r41b4_63",Ze="_formBottom_r41b4_63",et="_saveBtn_r41b4_107",v={head:Je,formtitle:Ke,formaddfield:Qe,formDiv:Xe,formBottom:Ze,saveBtn:et};function tt(){return s(k,{children:[e("div",{className:v.head,children:e("h1",{children:"NEW FORM"})}),s("form",{action:"",className:v.formDiv,children:[e("input",{type:"text",className:v.formtitle,placeholder:"Form Title*"}),e("input",{type:"text",className:v.formtitle,placeholder:"About Event*"}),e("input",{type:"text",className:v.formtitle,placeholder:"Event Type*"}),e("input",{type:"text",className:v.formtitle,placeholder:"Amount"}),e("input",{type:"text",className:v.formtitle,placeholder:"Priority"}),s("div",{className:v.formBottom,children:[e("input",{type:"text",className:v.formaddfield,placeholder:"Field Name*"}),e("input",{type:"text",className:v.formaddfield,placeholder:"Field Type*"}),e("input",{type:"text",className:v.formaddfield,placeholder:"Field Type*"})]}),s("div",{children:[e("button",{className:v.saveBtn,children:"ADD FIELD"}),e("button",{className:v.saveBtn,children:"SAVE"})]})]})]})}const at="_memMainDiv_t7c68_1",st="_memNav_t7c68_13",nt="_content_t7c68_31",j={memMainDiv:at,memNav:st,content:nt},lt="_card_xh0tz_1",ot="_memImg_xh0tz_23",it="_memContent_xh0tz_43",rt="_memButton_xh0tz_61",S={card:lt,memImg:ot,memContent:it,memButton:rt};function O(t){const[a,r]=o.useState(""),l=o.useContext(p);o.useEffect(()=>{t.access=="0"&&r("Admin"),t.access=="2"&&r("Director"),t.access=="3"&&r("Creative Team"),t.access=="4"&&r("Technical Team"),t.access=="5"&&r("Marketing Team"),t.access=="6"&&r("Operations Team"),t.access=="7"&&r("Alumni")},[]);const n=async()=>{(await C.post("/member/delMember",{user:l.user.email,email:t.email},{headers:{Authorization:l.token}})).status===200?t.isMember?t.memberData():t.alumniData():console.log("no members")},d=async()=>{(await C.post("/member/addAlumni",{email:t.email},{headers:{Authorization:l.token}})).status===200?t.memberData():console.log("no members")};return s("div",{className:S.card,children:[e("div",{className:S.memImg,children:e("img",{src:t.image,alt:""})}),s("div",{className:S.memContent,children:[e("h3",{children:t.name}),e("h5",{children:a}),s("div",{className:S.memButton,style:{justifyContent:t.isMember?"space-between":"center"},children:[t.isMember&&e("button",{onClick:d,children:"Make Alumni"}),e("button",{onClick:n,children:"Delete"})]})]})]})}const ct="_viewMem_3jkdg_7",dt={viewMem:ct};function mt(){const[t,a]=o.useState([]),r=o.useContext(p),l=async()=>{const n=await C.get("/member/",{headers:{Authorization:r.token}});n.status===202?a(n.data.users):console.log("no members")};return o.useEffect(()=>{l()},[]),e("div",{className:dt.viewMem,children:t.map(n=>e(O,{image:n.img,name:n.name,access:n.access,isMember:!0,email:n.email,memberData:l},n))})}const ut="_viewMem_3jkdg_7",ht={viewMem:ut};function vt(){const[t,a]=o.useState([]),r=o.useContext(p),l=async()=>{const n=await C.get("/member/alumni",{headers:{Authorization:r.token}});n.status===202?a(n.data.users):console.log("no alumni")};return o.useEffect(()=>{l()},[]),e("div",{className:ht.viewMem,children:t.map(n=>e(O,{image:n.img,name:n.name,access:n.access,isMember:!1,email:n.email,alumniData:l},n))})}const ft="_memInputs_1e7k6_5",_t="_saveBtn_1e7k6_81",pt="_divButton_1e7k6_107",T={memInputs:ft,saveBtn:_t,divButton:pt};function gt(){const t=o.useContext(p),[a,r]=o.useState({name:"",email:"",img:"",access:"",blur:"",github:"",linkedin:""}),l=d=>{const h=d.target.name,m=d.target.value;r(h==="access"?{...a,[h]:Number(m)}:{...a,[h]:m})},n=async d=>{d.preventDefault();const{name:h,email:m,img:i,access:f,blur:_,github:x,linkedin:y}=a;if(h===""||m===""||f==""||i==""||_==""||x==""||y==""){console.log("Please Fill All Fields");return}try{const g=await C.post("/member/addMember",{email:m,name:h,access:f,img:i,blur:_,github:x,linkedin:y},{headers:{Authorization:t.token}});g.data.status&&(console.log(g.data.status),r({name:"",email:"",img:"",access:"",blur:"",github:"",linkedin:""}),window.scrollTo(0,0))}catch(g){console.log(g)}};return e(k,{children:s("form",{action:"",className:T.memInputs,children:[e("input",{type:"text",placeholder:"Name of the member",name:"name",value:a.name,onChange:l}),e("input",{type:"text",placeholder:"Email",name:"email",value:a.email,onChange:l}),s("select",{name:"access",value:a.access,onChange:l,children:[e("option",{value:"",selected:!0,hidden:!0,children:"Select Department"}),e("option",{value:"2",children:"Director"}),e("option",{value:"4",children:"Technical"}),e("option",{value:"3",children:"Creative"}),e("option",{value:"5",children:"Marketing"}),e("option",{value:"6",children:"Operations"})]}),e("input",{type:"text",placeholder:"Image Link",name:"img",value:a.img,onChange:l}),e("input",{type:"text",placeholder:"Hash ID of the image",name:"blur",value:a.blur,onChange:l}),e("input",{type:"text",placeholder:"GitHub ID",name:"github",value:a.github,onChange:l}),e("input",{type:"text",placeholder:"LinkedIn ID",name:"linkedin",value:a.linkedin,onChange:l}),e("div",{className:"divButton",children:e("button",{className:T.saveBtn,onClick:n,children:"SAVE"})})]})})}function bt(){const[t,a]=o.useState({viewMem:!0,viewAlumni:!1,addMem:!1});return o.useEffect(()=>{window.scrollTo(0,0)},[]),s("div",{className:j.memMainDiv,children:[s("div",{className:j.memNav,children:[e("div",{style:{color:t.viewMem?"#f45725":"white",cursor:"pointer"},onClick:()=>{a({viewMem:!0,viewAlumni:!1,addMem:!1})},children:"View Members"}),e("div",{style:{color:t.viewAlumni?"#f45725":"white",cursor:"pointer"},onClick:()=>{a({viewMem:!1,viewAlumni:!0,addMem:!1})},children:"View Alumni"}),e("div",{style:{color:t.addMem?"#f45725":"white",cursor:"pointer"},onClick:()=>{a({viewMem:!1,viewAlumni:!1,addMem:!0})},children:"Add Members"})]}),s("div",{className:j.content,children:[t.viewMem&&e(mt,{}),t.viewAlumni&&e(vt,{}),t.addMem&&e(gt,{})]})]})}function xt(){const[t,a]=o.useState("");o.useEffect(()=>{window.scrollTo(0,0),l.user.access==0?a("Admin"):l.user.access==1?a("User"):l.user.access==7?a("Alumni"):a("Member")},[]);const r=q(),l=o.useContext(p),[n,d]=o.useState(!0),[h,m]=o.useState(!1),[i,f]=o.useState(!1),[_,x]=o.useState(!1),[y,g]=o.useState(!1),M=()=>{r("/Login"),l.logout()},D=()=>{d(!1),m(!0),f(!1),x(!1)},A=()=>{d(!1),m(!1),f(!0),x(!1)},b=()=>{d(!1),m(!1),f(!1),x(!0)};return e("div",{className:u.Page_main,children:s("div",{className:u.Page,children:[e("div",{className:u.pageLeft,children:s("div",{className:u.dashboard,children:[s("div",{className:u.dashboardTop,children:[e("h1",{className:u.DASHBOARD,children:"DASHBOARD"}),s("div",{className:u.gotoPro,children:[e("div",{className:u.profilePic,children:e("img",{src:l.user.pic,alt:""})}),s("div",{className:u.Position,children:[e("p",{className:u.name,children:l.user.name}),e("p",{className:u.designation,children:t})]})]})]}),s("div",{className:u.dashboardBottom,children:[s("div",{onClick:D,className:h?`${u.dashboardBottom_options} ${u.hello}`:`${u.dashboardBottom_options}`,children:[e(L,{className:u.dashboardBottom_icons}),e("p",{children:"Events"})]}),s("div",{onClick:A,className:i?`${u.dashboardBottom_options} ${u.hello}`:`${u.dashboardBottom_options}`,children:[e(V,{className:u.dashboardBottom_icons}),e("p",{children:"Form"})]}),s("div",{onClick:b,className:_?`${u.dashboardBottom_options} ${u.hello}`:`${u.dashboardBottom_options}`,children:[e(R,{className:u.dashboardBottom_icons}),e("p",{children:"Members"})]}),s("div",{onClick:M,className:u.dashboardBottom_options,children:[e(z,{className:u.dashboardBottom_icons}),e("p",{children:"Logout"})]})]})]})}),s("div",{className:u.pageRight,children:[n&&e(We,{setShowUpdateModal:g}),h&&e(qe,{}),i&&e(tt,{}),_&&e(bt,{})]}),y&&e(Ye,{setShowUpdateModal:g})]})})}export{xt as default};
